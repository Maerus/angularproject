var MyApp=angular.module("MyApp",["ui.router"]);MyApp.config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/home"),e.state("main",{url:"/",templateUrl:"templates/main/main.html",controller:"MainController",controllerAs:"main"}).state("main.home",{url:"home",templateUrl:"templates/home/home.html"}).state("main.login",{url:"login",templateUrl:"templates/login/login.html"}).state("chat",{url:"/chat",templateUrl:"templates/main/main.html"}).state("chat.room",{url:"/:chatName",templateUrl:"templates/chat/chatroom.html",controller:"ChatController",controllerAs:"chat"})}]),MyApp.controller("ChatController",["$scope","$stateParams","$timeout",function(e,t,a){t&&(e.chatName=t.chatName,""!=e.chatName&&firebase.database().ref("/messages/"+e.chatName).on("value",function(t){a(function(){e.messages=t.val()},0)})),e.sendMessage=function(){if(""!=e.chatName){var t=Date.now();firebase.database().ref("/messages/"+e.chatName).push({member:e.username,message:e.chatmessage,timestamp:t}),firebase.database().ref("/chats/"+e.chatName).set({lastMessage:e.chatmessage,messager:e.username,timestamp:t})}}}]),MyApp.directive("navTop",function(){return{templateUrl:"templates/layout-directives/nav-top2.html"}}),MyApp.controller("LoginController",function(){}),MyApp.controller("MainController",["$scope","$timeout",function(e,t){firebase.database().ref("/chats/").on("value",function(a){t(function(){e.freshChats=a.val()},0)})}]),MyApp.controller("OtherController",["$scope",function(e){e.filter=!0,e.toggleFilter=function(){e.filter=!e.filter}}]),MyApp.controller("StuffController",function(){});
//# sourceMappingURL=app.min.js.map
