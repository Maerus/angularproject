{"version":3,"sources":["app.min.js"],"names":["MyApp","angular","module","config","$stateProvider","$urlRouterProvider","otherwise","state","url","templateUrl","controller","controllerAs","service","this","database","firebase","writeChat","chatId","chatName","lastMessage","timestamp","ref","set","name","writeMember","memberName","writeMessage","message","member","push","$scope","FirebaseService","chatParameter","on","snapshot","messages","val","$apply","directive","freshChats","filter","toggleFilter"],"mappings":"AAAA,GAAIA,OAAQC,QAAQC,OAAO,SAAU,aAErCF,OAAMG,QAAQ,iBAAkB,qBAAsB,SAASC,EAAgBC,GAC7EA,EAAmBC,UAAU,SAE7BF,EACGG,MAAM,QACLC,IAAK,IACLC,YAAa,2BACbC,WAAY,iBACZC,aAAc,SAEfJ,MAAM,aACLC,IAAK,OACLC,YAAa,6BAEdF,MAAM,cACLC,IAAK,QACLC,YAAa,+BAEdF,MAAM,QACLC,IAAK,SACLC,YAAa,2BAChBC,WAAY,iBACZC,aAAc,SAEfJ,MAAM,aACNC,IAAK,YACLC,YAAa,oCA+BfT,MAAMY,QAAQ,kBAAmB,WAEhCC,KAAKC,SAAWC,SAASD,WAEzBD,KAAKG,UAAY,SAASC,EAAQC,EAAUC,EAAaC,GACxDP,KAAKC,SAASO,IAAI,SAAWJ,GAAQK,KACpCC,KAAML,EACNC,YAAaA,EACbC,UAAWA,KAIbP,KAAKW,YAAc,SAASP,EAAQQ,GACnCZ,KAAKC,SAASO,IAAI,WAAaJ,EAAS,IAAMQ,GAAYH,KAAI,IAG/DT,KAAKa,aAAe,SAAST,EAAQU,EAASC,EAAQR,GACrDP,KAAKC,SAASO,IAAI,YAAcJ,GAAQY,MACvCD,OAAQA,EACRD,QAASA,EACTP,UAAWA,OAKdpB,MAAMU,WAAW,kBAAmB,SAAU,kBAAmB,SAASoB,EAAQC,GACjF,GAAIC,GAAgB,wBACpBD,GAAgBjB,SAASO,IAAI,aAAeW,GAAeC,GAAG,QAAS,SAASC,GAC/EJ,EAAOK,SAAWD,EAASE,MAC3BN,EAAOO,cAITrC,MAAMsC,UAAU,SAAU,WACxB,OACE7B,YAAa,+CAIjBT,MAAMU,WAAW,kBAAmB,cAIpCV,MAAMU,WAAW,kBAAmB,SAAU,kBAAmB,SAASoB,EAAQC,GAOjFA,EAAgBjB,SAASO,IAAI,WAAWY,GAAG,QAAS,SAASC,GAC5DJ,EAAOS,WAAaL,EAASE,MAC7BN,EAAOO,cAMTrC,MAAMU,WAAW,mBAAoB,SAAU,SAASoB,GACtDA,EAAOU,QAAS,EAChBV,EAAOW,aAAe,WACpBX,EAAOU,QAAUV,EAAOU,WAI5BxC,MAAMU,WAAW,kBAAmB","file":"app.min.js","sourcesContent":["var MyApp = angular.module(\"MyApp\", [\"ui.router\"]);\n\nMyApp.config([\"$stateProvider\", \"$urlRouterProvider\", function($stateProvider, $urlRouterProvider) {\n  $urlRouterProvider.otherwise(\"/home\");\n\n  $stateProvider\n    .state(\"main\", {\n      url: \"/\",\n      templateUrl: \"templates/main/main.html\",\n      controller: \"MainController\",\n      controllerAs: \"main\"\n    })\n    .state(\"main.home\", {\n      url: \"home\",\n      templateUrl: \"templates/home/home.html\",\n    })\n    .state(\"main.login\", {\n      url: \"login\",\n      templateUrl: \"templates/login/login.html\",\n    })\n    .state(\"chat\", {\n      url: \"/chat/\",\n      templateUrl: \"templates/main/main.html\",\n\t  controller: \"ChatController\",\n\t  controllerAs: \"chat\"\n    })\n\t.state(\"chat.room\",{\n\t\turl: \":roomname\",\n\t\ttemplateUrl: \"templates/chat/chatroom.html\",\r\n\t})\n\t/*\n    .state(\"stuff\", {\n      url: \"/stuff\",\n      templateUrl: \"templates/stuff/stuff.html\",\n      controller: \"StuffController\",\n      controllerAs: \"stuffCtrl\"\n    })*/\n}]);\n\n/*\nMyApp.service(\"ApiService\", function() {\n\n  this.syncMethod = function() {\n    return 0;\n  }\n\n  this.getThings = function() {\n    return $http.get(\"/thing\")\n      .then(function (response) {\n        return response.data;\n      })\n      .catch(function (err) {\n        console.error(\"Error ApiService getThings \", err);\n        return {};\n      })\n  }\n\n})\n*/\nMyApp.service(\"FirebaseService\", function() {\n\t\n\tthis.database = firebase.database();\n\t\n\tthis.writeChat = function(chatId, chatName, lastMessage, timestamp){\n\t\tthis.database.ref('chats/' + chatId).set({\n\t\t\tname: chatName,\n\t\t\tlastMessage: lastMessage,\n\t\t\ttimestamp: timestamp\r\n\t\t})\r\n\t};\n\t\n\tthis.writeMember = function(chatId, memberName){\n\t\tthis.database.ref('members/' + chatId + '/' + memberName).set(true);\r\n\t};\n\t\n\tthis.writeMessage = function(chatId, message, member, timestamp){\n\t\tthis.database.ref('messages/' + chatId).push({\n\t\t\tmember: member,\n\t\t\tmessage: message,\n\t\t\ttimestamp: timestamp\r\n\t\t})\r\n\t};\n})\n\nMyApp.controller(\"ChatController\", [\"$scope\", \"FirebaseService\", function($scope, FirebaseService) {\r\n\tvar chatParameter = 'TODOget_url_parameter/';\r\n\tFirebaseService.database.ref('/messages/' + chatParameter).on('value', function(snapshot){\r\n\t\t$scope.messages = snapshot.val();\r\n\t\t$scope.$apply();\r\n\t});\r\n\t\r\n}])\nMyApp.directive(\"navTop\", function() {\n  return {\n    templateUrl: \"templates/layout-directives/nav-top2.html\",\n  };\n});\n\nMyApp.controller(\"LoginController\", function() {\n\n})\n\nMyApp.controller(\"MainController\", [\"$scope\", \"FirebaseService\", function($scope, FirebaseService) {\n\t/*\n\t$scope.doStuff = function() {\n\t\treturn \"stuff\";\n\t};\n\t*/\n\t\n\tFirebaseService.database.ref('/chats/').on('value', function(snapshot){\n\t\t$scope.freshChats = snapshot.val();\n\t\t$scope.$apply();\r\n\t});\n\t\n\t\n}])\n\nMyApp.controller(\"OtherController\", [\"$scope\", function($scope) {\n  $scope.filter = true;\n  $scope.toggleFilter = function() {\n    $scope.filter = !$scope.filter;\n  }\n}])\n\nMyApp.controller(\"StuffController\", function() {\n\n})\n"],"sourceRoot":"/source/"}